{"version":3,"sources":["selectors/friendsSelectors.js","utils/helpers/objectsHelpers.js","redux/usersReducer.js","assets/img/preloader.svg","components/common/Preloader/Preloader.module.css","components/NavbarFriends/Friend/Friend.module.css","components/NavbarMusic/NavbarMusic.module.css","components/Footer/Footer.module.css","components/Navbar/Navbar.module.css","redux/imgReducer.js","api/api.js","serviceWorker.js","redux/appReducer.js","redux/reduxStore.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/NavbarFriends/Friend/Friend.jsx","components/NavbarFriends/NavbarFriends.jsx","components/NavbarFriends/NavbarFriendsContainer.jsx","components/NavbarMusic/NavbarMusic.jsx","components/Footer/Footer.jsx","App.js","index.js","components/Header/Header.module.css","redux/authReducer.js","components/NavbarFriends/NavbarFriends.module.css","selectors/authSelectors.js","redux/friendsReducer.js","components/common/Preloader/Preloader.jsx","redux/profileReducer.js","redux/dialogsReducer.js"],"names":["getFriends","state","friendsPage","friends","updObjInArrFollowUnfollow","items","itemId","objectPropName","newObjectProps","map","i","FOLLOW","UNFOLLOW","SET_USERS","SET_CURR_PAGE","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","usersReducer","action","type","userId","followed","count","filter","id","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowInProgress","getUsers","dispatch","a","usersAPI","data","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","followUser","bind","unfollow","unfollowUser","module","exports","avatarImage","_image","img","src","getAvatarImage","value","this","instance","axios","withCredentials","baseURL","headers","get","then","response","idUser","delete","post","profileAPI","getProfileUser","getStatusUser","updateStatusUser","status","put","savePhoto","photoFile","formData","FormData","append","authAPI","getMe","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","init","isAuth","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","friendsReducer","usersPage","auth","authReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","useStyles","makeStyles","theme","grow","flexGrow","menuButton","marginRight","spacing","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","smallAvatar","orangeAvatar","getContrastText","deepOrange","Header","props","classes","React","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","isMobileMenuOpen","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","href","className","styles","noneHref","renderMobileMenu","IconButton","aria-label","Badge","badgeContent","aria-controls","aria-haspopup","header","AppBar","Toolbar","Typography","variant","noWrap","logoText","InputBase","placeholder","root","input","inputProps","edge","loginName","Avatar","Button","connect","getIsAuth","getLogin","Navbar","nav","item","to","activeClassName","activeLink","fontSize","Friend","friend","imgSrc","name","NavbarFriends","friendsElement","f","key","navfriends","quantityFriends","length","navfriendsGrid","NavbarMusic","Footer","footer","DialogsContainer","lazy","News","Settings","Music","UsersContainer","ProfileContainer","LoginContainer","FriendsContainer","withRouter","initApp","promise","getAuthUserData","Promise","all","useEffect","NavbarFriendsContainer","fallback","Preloader","path","render","ReactDOM","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","payload","setAuthUserData","authUser","error_message","messages","stopSubmit","_error","getUserId","surname","country","city","preloader","ADD_POST","SET_USER_STATUS","SET_LIKE_POST","UNSET_LIKE_POST","DEL_POST","posts","countLike","countDislike","setLike","setDislike","profile","newPostBody","p","postId","photos","addPost","deletePost","setUserStatus","setLikePost","setDislikePost","unsetLikePost","unsetDislikePost","getUserProfile","getUserStatus","updateUserStatus","file","dialogs","newMessageBody","addMessage"],"mappings":"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","file":"static/js/main.57401e71.chunk.js","sourcesContent":["import { createSelector } from \"reselect\";\r\n\r\nexport const getFriends = (state) => {\r\n    return state.friendsPage.friends;\r\n}","export const updObjInArrFollowUnfollow = (items, itemId, objectPropName, newObjectProps) => {\r\n    return items.map(i => {\r\n        if (i[objectPropName] === itemId) {\r\n            return { ...i, ...newObjectProps}\r\n        }\r\n        return i;\r\n    })\r\n}","import { usersAPI } from './../api/api';\r\nimport { updObjInArrFollowUnfollow } from '../utils/helpers/objectsHelpers';\r\n\r\nconst FOLLOW = 'antiVK/users/FOLLOW';\r\nconst UNFOLLOW = 'antiVK/users/UNFOLLOW';\r\nconst SET_USERS = 'antiVK/users/SET_USERS';\r\nconst SET_CURR_PAGE = 'antiVK/users/SET_CURR_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'antiVK/users/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'antiVK/users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'antiVK/users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n//список пользователей соц сети и вся инфа о них. Берется из сервера\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n};\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                //было\r\n                // users: state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return { ...u, followed: true }\r\n                //     }\r\n                //     return u;\r\n                // })\r\n                users: updObjInArrFollowUnfollow(state.users, action.userId, \"id\", { followed: true })\r\n            };\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updObjInArrFollowUnfollow(state.users, action.userId, \"id\", { followed: false })\r\n            };\r\n        }\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users }\r\n        }\r\n        case SET_CURR_PAGE: {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.count }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//actionCreators\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\n\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\n\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURR_PAGE, currentPage });\r\n\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\n\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleIsFollowInProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\r\n\r\n//thunk делает кучу асинхронных запросов и диспатч\r\nexport const getUsers = (currentPage, pageSize) => { //thunk-creator\r\n    return async (dispatch) => { //thunk\r\n        dispatch(toggleIsFetching(true)); //отображение крутилки загрузки\r\n        let data = await usersAPI.getUsers(currentPage, pageSize)\r\n        dispatch(toggleIsFetching(false)); //отключить крутилку загрузки\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\n//функция для thunk-creator'a follow and unfollow\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowInProgress(true, userId));\r\n    let data = await apiMethod(userId);\r\n    if (data.resultCode === 0) dispatch(actionCreator(userId));\r\n    dispatch(toggleIsFollowInProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.followUser.bind(userId), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollowUser.bind(userId), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.52d81aac.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2HO6_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navfriends\":\"Friend_navfriends__352Vk\",\"navfriendsGrid\":\"Friend_navfriendsGrid__2C55u\",\"friend\":\"Friend_friend__2zs29\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavbarMusic\":\"NavbarMusic_NavbarMusic__3jfXr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__36Tjx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1Udoi\",\"item\":\"Navbar_item__1IIwC\",\"activeLink\":\"Navbar_activeLink__4pqbA\"};","let avatarImage = {\r\n    _image: {\r\n        img: [\r\n            { id: 1, src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSFD1Ofi7-DsfgVE7CojIqMuNGYEN1N4dGyec3hJQebtISancyF' },\r\n            { id: 2, src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTY8JBBDJ15r08pjcZ81aWOEgFGPKLV-yXEz_9LxMk7Dn_-SYOg' },\r\n            { id: 3, src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRPg3XBAD7Y_OBK42lSSsE6EmstHQFwDhos9-_U7qalNs8azhSk' },\r\n            { id: 4, src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQKs6g39CeptLQsVJ2m_w7Ib6RsPCuJuUsUsMq9aafQGVB9hhsg' },\r\n            { id: 5, src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTmHvlQey7sRB-lIKvwZQHlY-Gwi0TIDWloz6LZcCYwdubZ5-nV' },\r\n        ]\r\n    },\r\n    getAvatarImage(value) {\r\n        return this._image.img[value].src;\r\n    },\r\n};\r\n\r\nexport default avatarImage;","import * as axios from 'axios';\r\n//Data Access Layer\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"b19640f8-e1c6-4c7e-b9f4-4fc65e7a380e\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    //функция запроса с сервера пользователей, где страница = 1, currentPage указывается в usersReducer\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(\"users?page=\" + currentPage + \"&count=\" + pageSize)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    //функция отписки onfollow\r\n    unfollowUser(idUser) {\r\n        return instance.delete(\"follow/\" + idUser)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    //функция подписки follow\r\n    followUser(idUser) {\r\n        return instance.post(\"follow/\" + idUser)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n};\r\n\r\nexport const profileAPI = {\r\n    //функция запроса с сервера профиля пользователя\r\n    getProfileUser(idUser) {\r\n        return instance.get(\"profile/\" + idUser)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    //функция запроса с сервера статуса пользователя\r\n    getStatusUser(idUser) {\r\n        return instance.get(\"profile/status/\" + idUser)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    //функция обновления статуса пользователя\r\n    updateStatusUser(status) {\r\n        return instance.put(\"profile/status\", { status: status });\r\n    },\r\n    //функция обновления статуса пользователя\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(\"profile/photo\", formData, {\r\n            headers: {\r\n                'Content-type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n};\r\n\r\nexport const authAPI = {\r\n    //функция запроса логина с сервера\r\n    getMe() {\r\n        return instance.get(\"auth/me\");\r\n    },\r\n    //функция авторизации пользователя\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(\"auth/login\", { email, password, rememberMe })\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    logout() {\r\n        return instance.delete(\"auth/login\");\r\n    },\r\n};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { getAuthUserData } from './authReducer';\r\n\r\nconst SET_INIT = 'SET_INIT';\r\n\r\nlet initialState = {\r\n    init: false,\r\n    isAuth: false\r\n};\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INIT: {\r\n            return {\r\n                ...state,\r\n                init: true,\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initSuccess = () => ({ type: SET_INIT });\r\n\r\n//react-thunk\r\nexport const initApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initSuccess());\r\n        });\r\n}\r\n\r\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport { profileReducer } from \"./profileReducer\";\r\nimport { dialogsReducer } from \"./dialogsReducer\";\r\nimport { friendsReducer } from \"./friendsReducer\";\r\nimport { usersReducer } from './usersReducer';\r\nimport { authReducer } from './authReducer';\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    friendsPage: friendsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\n//подключение расширения Redux для Google Chrome\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));","import React from 'react';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport styles from './Header.module.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { deepOrange } from '@material-ui/core/colors';\r\nimport { Icon } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tgrow: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2),\r\n\t},\r\n\ttitle: {\r\n\t\tdisplay: 'none',\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tdisplay: 'block',\r\n\t\t},\r\n\t},\r\n\tsearch: {\r\n\t\tposition: 'relative',\r\n\t\tborderRadius: theme.shape.borderRadius,\r\n\t\tbackgroundColor: fade(theme.palette.common.white, 0.15),\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: fade(theme.palette.common.white, 0.25),\r\n\t\t},\r\n\t\tmarginRight: theme.spacing(2),\r\n\t\tmarginLeft: 0,\r\n\t\twidth: '100%',\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tmarginLeft: theme.spacing(3),\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t},\r\n\tsearchIcon: {\r\n\t\tpadding: theme.spacing(0, 2),\r\n\t\theight: '100%',\r\n\t\tposition: 'absolute',\r\n\t\tpointerEvents: 'none',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n\tinputRoot: {\r\n\t\tcolor: 'inherit',\r\n\t},\r\n\tinputInput: {\r\n\t\tpadding: theme.spacing(1, 1, 1, 0),\r\n\t\t// vertical padding + font size from searchIcon\r\n\t\tpaddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n\t\ttransition: theme.transitions.create('width'),\r\n\t\twidth: '100%',\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\twidth: '20ch',\r\n\t\t},\r\n\t},\r\n\tsectionDesktop: {\r\n\t\tdisplay: 'none',\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t},\r\n\t},\r\n\tsectionMobile: {\r\n\t\tdisplay: 'flex',\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tdisplay: 'none',\r\n\t\t},\r\n\t},\r\n\t//avatars\r\n\tsmallAvatar: {\r\n\t\twidth: theme.spacing(3),\r\n\t\theight: theme.spacing(3),\r\n\t},\r\n\torangeAvatar: {\r\n\t\tcolor: theme.palette.getContrastText(deepOrange[500]),\r\n\t\tbackgroundColor: deepOrange[500],\r\n\t},\r\n}));\r\n\r\nexport default function Header(props) {\r\n\tconst classes = useStyles();\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\r\n\tconst [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n\tconst isMenuOpen = Boolean(anchorEl);\r\n\tconst isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n\tconst handleProfileMenuOpen = (event) => {\r\n\t\tsetAnchorEl(event.currentTarget);\r\n\t};\r\n\r\n\tconst handleMobileMenuClose = () => {\r\n\t\tsetMobileMoreAnchorEl(null);\r\n\t};\r\n\r\n\tconst handleMenuClose = () => {\r\n\t\tsetAnchorEl(null);\r\n\t\thandleMobileMenuClose();\r\n\t};\r\n\r\n\tconst handleMobileMenuOpen = (event) => {\r\n\t\tsetMobileMoreAnchorEl(event.currentTarget);\r\n\t};\r\n\r\n\t//Выйти из системы\r\n\tconst onLogout = () => {\r\n\t\tprops.logout();\r\n\t}\r\n\r\n\tconst menuId = 'primary-search-account-menu';\r\n\tconst renderMenu = (\r\n\t\t<Menu\r\n\t\t\tanchorEl={anchorEl}\r\n\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n\t\t\tid={menuId}\r\n\t\t\tkeepMounted\r\n\t\t\ttransformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n\t\t\topen={isMenuOpen}\r\n\t\t\tonClose={handleMenuClose}\r\n\t\t>\r\n\t\t\t<MenuItem onClick={handleMenuClose}><a href=\"http://localhost:3000/profile\" className={styles.noneHref}>Профиль</a></MenuItem>\r\n\t\t\t<MenuItem onClick={handleMenuClose}><a href=\"http://localhost:3000/settings\" className={styles.noneHref}>Настройки</a></MenuItem>\r\n\t\t\t<MenuItem onClick={onLogout}><a href=\"\" className={styles.noneHref}>Выйти</a></MenuItem>\r\n\t\t</Menu>\r\n\t);\r\n\r\n\tconst mobileMenuId = 'primary-search-account-menu-mobile';\r\n\tconst renderMobileMenu = (\r\n\t\t<Menu\r\n\t\t\tanchorEl={mobileMoreAnchorEl}\r\n\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n\t\t\tid={mobileMenuId}\r\n\t\t\tkeepMounted\r\n\t\t\ttransformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n\t\t\topen={isMobileMenuOpen}\r\n\t\t\tonClose={handleMobileMenuClose}\r\n\t\t>\r\n\t\t\t<MenuItem>\r\n\t\t\t\t<IconButton aria-label=\"show 0 new mails\" color=\"inherit\">\r\n\t\t\t\t\t<Badge badgeContent={0} color=\"secondary\">\r\n\t\t\t\t\t\t<MailIcon />\r\n\t\t\t\t\t</Badge>\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<p>Сообщения</p>\r\n\t\t\t</MenuItem>\r\n\t\t\t<MenuItem>\r\n\t\t\t\t<IconButton aria-label=\"show 0 new notifications\" color=\"inherit\">\r\n\t\t\t\t\t<Badge badgeContent={0} color=\"secondary\">\r\n\t\t\t\t\t\t<NotificationsIcon />\r\n\t\t\t\t\t</Badge>\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<p>Уведомления</p>\r\n\t\t\t</MenuItem>\r\n\t\t\t<MenuItem onClick={handleProfileMenuOpen}>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\taria-label=\"account of current user\"\r\n\t\t\t\t\taria-controls=\"primary-search-account-menu\"\r\n\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<AccountCircle />\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<p>Профиль</p>\r\n\t\t\t</MenuItem>\r\n\t\t</Menu>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className={classes.grow + \" \" + styles.header}>\r\n\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t<Toolbar>\r\n\t\t\t\t\t{/* <IconButton\r\n\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\tclassName={classes.menuButton}\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\taria-label=\"open drawer\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton> */}\r\n\t\t\t\t\t<Typography className={classes.title} variant=\"h6\" noWrap>\r\n\t\t\t\t\t\t<a href=\"http://localhost:3000/profile\" className={styles.logoText}>AntiVK</a>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<div className={classes.search}>\r\n\t\t\t\t\t\t<div className={classes.searchIcon}>\r\n\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\tplaceholder=\"Поиск...\"\r\n\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t\t\t\t\tinput: classes.inputInput,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'search' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={classes.grow} />\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{props.isAuth\r\n\t\t\t\t\t\t\t? <div>\r\n\t\t\t\t\t\t\t\t<div className={classes.sectionDesktop}>\r\n\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"show 2 new mails\" color=\"inherit\">\r\n\t\t\t\t\t\t\t\t\t\t<Badge badgeContent={2} color=\"secondary\">\r\n\t\t\t\t\t\t\t\t\t\t\t<MailIcon />\r\n\t\t\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t<IconButton aria-label=\"show 1 new notifications\" color=\"inherit\">\r\n\t\t\t\t\t\t\t\t\t\t<Badge badgeContent={1} color=\"secondary\">\r\n\t\t\t\t\t\t\t\t\t\t\t<NotificationsIcon />\r\n\t\t\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\tedge=\"end\"\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"account of current user\"\r\n\t\t\t\t\t\t\t\t\t\taria-controls={menuId}\r\n\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleProfileMenuOpen}\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span className={styles.loginName}>{props.login}</span>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Avatar>VA</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.sectionMobile}>\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\taria-label=\"show more\"\r\n\t\t\t\t\t\t\t\t\t\taria-controls={mobileMenuId}\r\n\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleMobileMenuOpen}\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<MoreIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t: <Button variant=\"contained\" href=\"/login\">Авторизация</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t{renderMobileMenu}\r\n\t\t\t{renderMenu}\r\n\t\t</div>\r\n\t);\r\n}","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from './../../redux/authReducer';\r\nimport { getIsAuth, getLogin } from './../../selectors/authSelectors';\r\n\r\nconst HeaderContainer = (props) => {\r\n    return <Header {...props} />\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: getIsAuth(state),\r\n    login: getLogin(state),\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from 'react';\r\nimport styles from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport RssFeedIcon from '@material-ui/icons/RssFeed';\r\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<nav className={styles.nav}>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink to=\"/profile\" activeClassName={styles.activeLink}><HomeIcon fontSize=\"small\" />  Профиль</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink to=\"/dialogs\" activeClassName={styles.activeLink}><QuestionAnswerIcon fontSize=\"small\" />  Диалоги</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink to=\"/friends\" activeClassName={styles.activeLink}><PeopleIcon fontSize=\"small\" />  Друзья</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink to=\"/news\" activeClassName={styles.activeLink}><RssFeedIcon fontSize=\"small\" />  Лента</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink to=\"/music\" activeClassName={styles.activeLink}><LibraryMusicIcon fontSize=\"small\" />  Музыка</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink to=\"/users\" activeClassName={styles.activeLink}><PersonAddIcon fontSize=\"small\" />  Пользователи</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<br />\r\n\t\t\t<div className={styles.item}>\r\n\t\t\t\t<NavLink to=\"/settings\" activeClassName={styles.activeLink}><SettingsIcon fontSize=\"small\" />  Настройки</NavLink>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport styles from './Friend.module.css';\r\n\r\nconst Friend = (props) => {\r\n\treturn (\r\n\t\t<div className={styles.friend}>\r\n\t\t\t<img src={props.imgSrc} /> {props.name}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport styles from './NavbarFriends.module.css';\r\nimport Friend from './Friend/Friend';\r\n\r\nconst NavbarFriends = (props) => {\r\n\r\n\tlet friendsElement = props.friendsPage.map(f => <Friend name={f.name} key={f.id} id={f.id} imgSrc={f.imgSrc} />);\r\n\r\n\treturn (\r\n\t\t<div className={styles.navfriends}>\r\n\t\t\tFriends <span className={styles.quantityFriends}>{props.friendsPage.length}</span>\r\n\t\t\t<div className={styles.navfriendsGrid}>\r\n\t\t\t\t{friendsElement}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default NavbarFriends;","import '../../redux/friendsReducer';\r\nimport NavbarFriends from './NavbarFriends';\r\nimport { connect } from 'react-redux';\r\nimport { getFriends } from './../../selectors/friendsSelectors';\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tfriendsPage: getFriends(state)\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(NavbarFriends);","import React from 'react';\r\nimport styles from './NavbarMusic.module.css';\r\n\r\n//{`${styles.item} ${styles.active}`}\r\n\r\nconst NavbarMusic = () => {\r\n\treturn (\r\n\t\t<div className={styles.NavbarMusic}>\r\n\t\t\tMusic\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default NavbarMusic;","import React from 'react';\r\nimport styles from './Footer.module.css';\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer className={styles.footer}>\r\n\t\t\tFooter\r\n      </footer>\r\n\t)\r\n}\r\n\r\nexport default Footer;","import React, { useEffect, Suspense } from 'react';\r\nimport { initApp } from './redux/appReducer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { Route, withRouter } from \"react-router-dom\";\r\nimport './App.css';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport NavbarFriendsContainer from './components/NavbarFriends/NavbarFriendsContainer';\r\nimport NavbarMusic from './components/NavbarMusic/NavbarMusic';\r\nimport Footer from './components/Footer/Footer';\r\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\r\n//import News from './components/News/News';\r\n//import Settings from './components/Settings/Settings';\r\n//import Music from './components/Music/Music';\r\n//import UsersContainer from './components/Users/UsersContainer';\r\n//import ProfileContainer from './components/Profile/ProfileContainer';\r\n//import LoginContainer from './components/Login/LoginContainer';\r\n//import FriendsContainer from './components/Friends/FriendsContainer';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\r\nconst Music = React.lazy(() => import('./components/Music/Music'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst LoginContainer = React.lazy(() => import('./components/Login/LoginContainer'));\r\nconst FriendsContainer = React.lazy(() => import('./components/Friends/FriendsContainer'));\r\n\r\nconst App = (props) => {\r\n\tuseEffect(() => {\r\n\t\tprops.initApp();\r\n\t}, [])\r\n\r\n\tif (!props.init) return <Preloader />\r\n\r\n\treturn (\r\n\t\t<div className=\"backColor\">\r\n\t\t\t<div className='app-wrapper'>\r\n\t\t\t\t<HeaderContainer />\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<NavbarFriendsContainer />\r\n\t\t\t\t<NavbarMusic />\r\n\t\t\t\t<div className=\"app-wrapper-content\">\r\n\t\t\t\t\t<Suspense fallback={<Preloader />}>\r\n\t\t\t\t\t\t<Route path='/dialogs' render={() => <DialogsContainer />} />\r\n\t\t\t\t\t\t<Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n\t\t\t\t\t\t<Route path='/news' render={() => <News />} />\r\n\t\t\t\t\t\t<Route path='/music' render={() => <Music />} />\r\n\t\t\t\t\t\t<Route path='/friends' render={() => <FriendsContainer />} />\r\n\t\t\t\t\t\t<Route path='/users' render={() => <UsersContainer />} />\r\n\t\t\t\t\t\t<Route path='/settings' render={() => <Settings />} />\r\n\t\t\t\t\t\t<Route path='/login' render={() => <LoginContainer />} />\r\n\t\t\t\t\t</Suspense>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tinit: state.app.init\r\n});\r\n\r\nexport default compose(withRouter, connect(mapStateToProps, { initApp }))(App);","import './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from './redux/reduxStore';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    </BrowserRouter>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2jH2N\",\"logoText\":\"Header_logoText__1OafQ\",\"loginName\":\"Header_loginName__1vq2H\",\"noneHref\":\"Header_noneHref__1kfeK\"};","import { authAPI } from './../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USERS_DATA = 'antiVK/auth/SET_USERS_DATA';\r\n//const AUTH_USER = 'AUTH_USER';\r\n\r\n//список пользователей соц сети и вся инфа о них. Берется из сервера\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    //password: null,\r\n    //rememberMe: false,\r\n    //isFetching: false\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USERS_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                //isAuth: true\r\n            };\r\n        }\r\n\r\n        // case AUTH_USER: {\r\n        //     return {\r\n        //         ...state,\r\n        //         ...action.data,\r\n        //         isAuth: true,\r\n        //         //login: action.login,\r\n        //         //password: action.password\r\n        //     };\r\n        // }\r\n        // case TOGGLE_IS_FETCHING: {\r\n        //     return { ...state, isFetching: action.isFetching }\r\n        // }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//actionCreators\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USERS_DATA, payload: { userId, email, login, isAuth } });\r\n//export const setAuthUser = (email, password, rememberMe) => ({ type: AUTH_USER, data: { email, password, rememberMe } });\r\n//export const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\n\r\n//react-thunk\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.getMe();\r\n\r\n    if (response.data.resultCode === 0) { //если залогинены\r\n        let { id, email, login } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const authUser = (email, password, rememberMe) => async (dispatch) => {\r\n    let data = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (data.resultCode === 0) { //если нет ошибок\r\n        dispatch(getAuthUserData()); //запрос логина с сервера\r\n    } else {\r\n        let error_message = data.messages.length > 0 ? data.messages[0] : \"Произошла неведомая ошибка\";\r\n        dispatch(stopSubmit(\"login\", { _error: error_message })); //параметры: название формы, название ошибки\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let data = await authAPI.logout();\r\n\r\n    if (data.resultCode === 0) { //если нет ошибок\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navfriends\":\"NavbarFriends_navfriends__3MXTc\",\"navfriendsGrid\":\"NavbarFriends_navfriendsGrid__TfcAE\",\"friend\":\"NavbarFriends_friend__1l5-P\",\"quantityFriends\":\"NavbarFriends_quantityFriends__28eag\"};","import { createSelector } from \"reselect\";\r\n\r\nexport const getIsAuth = (state) => {\r\n    return state.auth.isAuth;\r\n}\r\n\r\nexport const getUserId = (state) => {\r\n    return state.auth.userId;\r\n}\r\n\r\nexport const getLogin = (state) => {\r\n    return state.auth.login;\r\n}","import avatarImage from './imgReducer';\r\n\r\n//список друзей и вся инфа о них. Берется из сервера...\r\nlet initialState = {\r\n    friends: [\r\n        { id: 1, imgSrc: avatarImage.getAvatarImage(0), name: 'Михаил', surname: 'Павлов', status: 'Я босс', location: { country: 'Россия', city: 'Муром' } },\r\n        { id: 2, imgSrc: avatarImage.getAvatarImage(3), name: 'Дмитрий', surname: 'Иванов', status: 'Волк воет, а собака лает', location: { country: 'Россия', city: 'Владимир' } },\r\n        { id: 3, imgSrc: avatarImage.getAvatarImage(1), name: 'Светлана', surname: 'Ясная', status: 'Я здесь король', location: { country: 'Россия', city: 'Муром' } },\r\n        { id: 4, imgSrc: avatarImage.getAvatarImage(1), name: 'Елена', surname: 'Гребникова', status: '', location: { country: 'Россия', city: 'Москва' } },\r\n        { id: 5, imgSrc: avatarImage.getAvatarImage(2), name: 'Женя', surname: 'Казанский', status: 'Не бойся перемен', location: { country: 'Россия', city: 'Муром' } },\r\n        { id: 6, imgSrc: avatarImage.getAvatarImage(4), name: 'Кирилл', surname: 'Эльман', status: '', location: { country: 'Украина', city: 'Киев' } },\r\n    ]\r\n};\r\n\r\nexport const friendsReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default friendsReducer;","import React from 'react';\r\nimport preloader from '../../../assets/img/preloader.svg';\r\nimport styles from './Preloader.module.css';\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div className={styles.preloader}>\r\n            <img src={preloader} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'antiVK/profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'antiVK/profile/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'antiVK/profile/SET_USER_STATUS';\r\nconst SET_LIKE_POST = 'antiVK/profile/SET_LIKE_POST';\r\nconst SET_DISLIKE_POST = 'antiVK/profile/SET_DISLIKE_POST';\r\nconst UNSET_LIKE_POST = 'antiVK/profile/UNSET_LIKE_POST';\r\nconst UNSET_DISLIKE_POST = 'antiVK/profile/UNSET_DISLIKE_POST';\r\nconst DEL_POST = 'antiVK/profile/DEL_POST';\r\nconst SET_USER_PHOTO_AVATAR = 'antiVK/profile/SET_USER_PHOTO_AVATAR';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: 'Hello World!', countLike: 20, countDislike: 6, userId: 7836, setLike: false, setDislike: false },\r\n        { id: 2, message: 'It\\'s my first post.', countLike: 12, countDislike: 56, userId: 7836, setLike: false, setDislike: false },\r\n        { id: 3, message: 'Test message', countLike: 50, countDislike: 0, userId: 7836, setLike: false, setDislike: false },\r\n        { id: 4, message: 'Test message 2', countLike: 0, countDislike: 1, userId: 7836, setLike: false, setDislike: false },\r\n    ],\r\n    profile: null,\r\n    status: null,\r\n};\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            //глубокое копирование объекта\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, { id: (state.posts.length) + 1, message: action.newPostBody, countLike: 0, countDislike: 0, userId: 7836, setLike: false, setDislike: false }]\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        case SET_LIKE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => {\r\n                    if (p.id === action.postId && !p.setLike) {\r\n                        p.countLike++;\r\n                        p.setLike = true; //можно только раз поставить лайк\r\n                        return { ...p }\r\n                    }\r\n                    return state.posts;\r\n                })\r\n            };\r\n        }\r\n        case SET_DISLIKE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => {\r\n                    if (p.id === action.postId && !p.setDislike) {\r\n                        p.countDislike++;\r\n                        p.setDislike = true; //можно только раз поставить дизлайк\r\n                        return { ...p }\r\n                    }\r\n                    return state.posts;\r\n                })\r\n            };\r\n        }\r\n        case UNSET_LIKE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => {\r\n                    if (p.id === action.postId && p.setLike) {\r\n                        p.countLike--;\r\n                        p.setLike = false; //можно только раз снять лайк\r\n                        return { ...p }\r\n                    }\r\n                    return state.posts;\r\n                })\r\n            };\r\n        }\r\n        case UNSET_DISLIKE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => {\r\n                    if (p.id === action.postId && p.setDislike) {\r\n                        p.countDislike--;\r\n                        p.setDislike = false; //можно только раз снять дизлайк\r\n                        return { ...p }\r\n                    }\r\n                    return state.posts;\r\n                })\r\n            };\r\n        }\r\n        case DEL_POST: {\r\n            //глубокое копирование объекта\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            };\r\n        }\r\n        case SET_USER_PHOTO_AVATAR: {\r\n            //добавление аватарки профиля\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, photos: action.photos }\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPost = (newPostBody) => ({ type: ADD_POST, newPostBody })\r\nexport const deletePost = (postId) => ({ type: DEL_POST, postId })\r\n\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status })\r\nexport const setAvatarPhotoSuccess = (photos) => ({ type: SET_USER_PHOTO_AVATAR, photos })\r\n\r\nexport const setLikePost = (postId) => ({ type: SET_LIKE_POST, postId })\r\nexport const setDislikePost = (postId) => ({ type: SET_DISLIKE_POST, postId })\r\n\r\nexport const unsetLikePost = (postId) => ({ type: UNSET_LIKE_POST, postId })\r\nexport const unsetDislikePost = (postId) => ({ type: UNSET_DISLIKE_POST, postId })\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    //запрос с сервера профиля пользователя\r\n    let data = await profileAPI.getProfileUser(userId)\r\n    dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    //запрос с сервера статуса пользователя\r\n    let data = await profileAPI.getStatusUser(userId)\r\n    dispatch(setUserStatus(data));\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    //обновления статуса пользователя\r\n    let response = await profileAPI.updateStatusUser(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status));\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    //обновления статуса пользователя\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAvatarPhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import avatarImage from './imgReducer';\r\n\r\nconst ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Дмитрий', imgSrc: avatarImage.getAvatarImage(0) },\r\n        { id: 2, name: 'Светлана', imgSrc: avatarImage.getAvatarImage(1) },\r\n        { id: 3, name: 'Женя', imgSrc: avatarImage.getAvatarImage(3) },\r\n        { id: 4, name: 'Андрей', imgSrc: avatarImage.getAvatarImage(4) },\r\n        { id: 5, name: 'Александр', imgSrc: avatarImage.getAvatarImage(2) },\r\n        { id: 6, name: 'Мария', imgSrc: avatarImage.getAvatarImage(1) },\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'Привет!' },\r\n        { id: 2, message: 'Как дела?' },\r\n        { id: 3, message: 'Чем занимаешься?' },\r\n    ],\r\n};\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            //глубокое копирование объекта\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: (state.messages.length) + 1, message: action.newMessageBody }]\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessage = (newMessageBody) => ({ type: ADD_MESSAGE, newMessageBody })\r\n\r\nexport default dialogsReducer;"],"sourceRoot":""}